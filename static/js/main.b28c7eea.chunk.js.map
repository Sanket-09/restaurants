{"version":3,"sources":["http-common.js","services/restaurant.js","components/add-review.js","components/restaurants.js","components/restaurants-list.js","components/login.js","App.js","index.js"],"names":["axios","create","baseURL","headers","RestaurantDataService","_classCallCheck","_createClass","key","value","page","arguments","length","undefined","http","get","concat","id","query","by","data","post","put","userId","delete","user_id","AddReview","props","initialReviewState","editing","location","state","currentReview","text","_useState","useState","_useState2","_slicedToArray","review","setReview","_useState3","_useState4","submitted","setSubmitted","_jsx","children","user","className","_jsxs","Link","to","match","params","htmlFor","type","required","onChange","event","target","name","onClick","restaurant_id","review_id","_id","updateReview","then","response","console","log","catch","e","createReview","Restaurant","address","cuisine","reviews","restaurant","setRestaurant","useEffect","building","street","zipcode","map","index","date","reviewId","deleteReview","prevState","splice","_objectSpread","pathname","RestaurantsList","restaurants","setRestaurants","searchName","setSearchName","_useState5","_useState6","searchZip","setSearchZip","_useState7","_useState8","searchCuisine","setSearchCuisine","_useState9","_useState10","cuisines","setCuisines","retrieveRestaurants","retrieveCuisines","getAll","getCuisines","find","placeholder","substr","href","Login","setUser","handleInputChange","_event$target","_defineProperty","login","history","push","App","_React$useState","React","_React$useState2","_login","apply","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_args","wrap","_context","prev","next","stop","_logout","_callee2","_context2","style","cursor","Switch","Route","exact","path","component","render","ReactDOM","BrowserRouter","document","getElementById"],"mappings":"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","file":"static/js/main.b28c7eea.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nexport default axios.create({\r\n  baseURL:\r\n    'https://us-east-1.aws.webhooks.mongodb-realm.com/api/client/v2.0/app/restaurant-reviews-evuay/service/restaurants/incoming_webhook/',\r\n  headers: {\r\n    'Content-type': 'application/json',\r\n  },\r\n})\r\n","import http from '../http-common'\r\n\r\nclass RestaurantDataService {\r\n  getAll(page = 0) {\r\n    return http.get(`restaurants?page=${page}`)\r\n  }\r\n\r\n  get(id) {\r\n    return http.get(`/restaurant?id=${id}`)\r\n  }\r\n\r\n  find(query, by = 'name', page = 0) {\r\n    return http.get(`restaurants?${by}=${query}&page=${page}`)\r\n  }\r\n\r\n  createReview(data) {\r\n    return http.post('/review-new', data)\r\n  }\r\n\r\n  updateReview(data) {\r\n    return http.put('/review-edit', data)\r\n  }\r\n\r\n  deleteReview(id, userId) {\r\n    return http.delete(`/review-delete?id=${id}`, { data: { user_id: userId } })\r\n  }\r\n\r\n  getCuisines(id) {\r\n    return http.get(`/cuisines`)\r\n  }\r\n}\r\n\r\nexport default new RestaurantDataService()\r\n","import React, { useState } from 'react'\r\nimport RestaurantDataService from '../services/restaurant'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst AddReview = (props) => {\r\n  let initialReviewState = ''\r\n\r\n  let editing = false\r\n\r\n  if (props.location.state && props.location.state.currentReview) {\r\n    editing = true\r\n    initialReviewState = props.location.state.currentReview.text\r\n  }\r\n\r\n  const [review, setReview] = useState(initialReviewState)\r\n  const [submitted, setSubmitted] = useState(false)\r\n\r\n  const handleInputChange = (event) => {\r\n    setReview(event.target.value)\r\n  }\r\n\r\n  const saveReview = () => {\r\n    var data = {\r\n      text: review,\r\n      name: props.user.name,\r\n      user_id: props.user.id,\r\n      restaurant_id: props.match.params.id,\r\n    }\r\n\r\n    if (editing) {\r\n      data.review_id = props.location.state.currentReview._id\r\n      RestaurantDataService.updateReview(data)\r\n        .then((response) => {\r\n          setSubmitted(true)\r\n          console.log(response.data)\r\n        })\r\n        .catch((e) => {\r\n          console.log(e)\r\n        })\r\n    } else {\r\n      RestaurantDataService.createReview(data)\r\n        .then((response) => {\r\n          setSubmitted(true)\r\n          console.log(response.data)\r\n        })\r\n        .catch((e) => {\r\n          console.log(e)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {props.user ? (\r\n        <div className='submit-form'>\r\n          {submitted ? (\r\n            <div>\r\n              <h4>You submitted successfully!</h4>\r\n              <Link\r\n                to={'/restaurants/' + props.match.params.id}\r\n                className='btn btn-success'\r\n              >\r\n                Back to Restaurant\r\n              </Link>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <div className='form-group'>\r\n                <label htmlFor='description'>\r\n                  {editing ? 'Edit' : 'Create'} Review\r\n                </label>\r\n                <input\r\n                  type='text'\r\n                  className='form-control'\r\n                  id='text'\r\n                  required\r\n                  value={review}\r\n                  onChange={handleInputChange}\r\n                  name='text'\r\n                />\r\n              </div>\r\n              <button onClick={saveReview} className='btn btn-success'>\r\n                Submit\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div>Please log in.</div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddReview\r\n","import React, { useState, useEffect } from 'react'\r\nimport RestaurantDataService from '../services/restaurant'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Restaurant = (props) => {\r\n  const initialRestaurantState = {\r\n    id: null,\r\n    name: '',\r\n    address: {},\r\n    cuisine: '',\r\n    reviews: [],\r\n  }\r\n  const [restaurant, setRestaurant] = useState(initialRestaurantState)\r\n\r\n  const getRestaurant = (id) => {\r\n    RestaurantDataService.get(id)\r\n      .then((response) => {\r\n        setRestaurant(response.data)\r\n        console.log(response.data)\r\n      })\r\n      .catch((e) => {\r\n        console.log(e)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    getRestaurant(props.match.params.id)\r\n  }, [props.match.params.id])\r\n\r\n  const deleteReview = (reviewId, index) => {\r\n    RestaurantDataService.deleteReview(reviewId, props.user.id)\r\n      .then((response) => {\r\n        setRestaurant((prevState) => {\r\n          prevState.reviews.splice(index, 1)\r\n          return {\r\n            ...prevState,\r\n          }\r\n        })\r\n      })\r\n      .catch((e) => {\r\n        console.log(e)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {restaurant ? (\r\n        <div>\r\n          <h5>{restaurant.name}</h5>\r\n          <p>\r\n            <strong>Cuisine: </strong>\r\n            {restaurant.cuisine}\r\n            <br />\r\n            <strong>Address: </strong>\r\n            {restaurant.address.building} {restaurant.address.street},{' '}\r\n            {restaurant.address.zipcode}\r\n          </p>\r\n          <Link\r\n            to={'/restaurants/' + props.match.params.id + '/review'}\r\n            className='btn btn-primary'\r\n          >\r\n            Add Review\r\n          </Link>\r\n          <h4> Reviews </h4>\r\n          <div className='row'>\r\n            {restaurant.reviews.length > 0 ? (\r\n              restaurant.reviews.map((review, index) => {\r\n                return (\r\n                  <div className='col-lg-4 pb-1' key={index}>\r\n                    <div className='card'>\r\n                      <div className='card-body'>\r\n                        <p className='card-text'>\r\n                          {review.text}\r\n                          <br />\r\n                          <strong>User: </strong>\r\n                          {review.name}\r\n                          <br />\r\n                          <strong>Date: </strong>\r\n                          {review.date}\r\n                        </p>\r\n                        {props.user && props.user.id === review.user_id && (\r\n                          <div className='row'>\r\n                            <a\r\n                              onClick={() => deleteReview(review._id, index)}\r\n                              className='btn btn-primary col-lg-5 mx-1 mb-1'\r\n                            >\r\n                              Delete\r\n                            </a>\r\n                            <Link\r\n                              to={{\r\n                                pathname:\r\n                                  '/restaurants/' +\r\n                                  props.match.params.id +\r\n                                  '/review',\r\n                                state: {\r\n                                  currentReview: review,\r\n                                },\r\n                              }}\r\n                              className='btn btn-primary col-lg-5 mx-1 mb-1'\r\n                            >\r\n                              Edit\r\n                            </Link>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })\r\n            ) : (\r\n              <div className='col-sm-4'>\r\n                <p>No reviews yet.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <br />\r\n          <p>No restaurant selected.</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Restaurant\r\n","import React, { useState, useEffect } from 'react'\r\nimport RestaurantDataService from '../services/restaurant'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst RestaurantsList = (props) => {\r\n  const [restaurants, setRestaurants] = useState([])\r\n  const [searchName, setSearchName] = useState('')\r\n  const [searchZip, setSearchZip] = useState('')\r\n  const [searchCuisine, setSearchCuisine] = useState('')\r\n  const [cuisines, setCuisines] = useState(['All Cuisines'])\r\n\r\n  useEffect(() => {\r\n    retrieveRestaurants()\r\n    retrieveCuisines()\r\n  }, [])\r\n\r\n  const onChangeSearchName = (e) => {\r\n    const searchName = e.target.value\r\n    setSearchName(searchName)\r\n  }\r\n\r\n  const onChangeSearchZip = (e) => {\r\n    const searchZip = e.target.value\r\n    setSearchZip(searchZip)\r\n  }\r\n\r\n  const onChangeSearchCuisine = (e) => {\r\n    const searchCuisine = e.target.value\r\n    setSearchCuisine(searchCuisine)\r\n  }\r\n\r\n  const retrieveRestaurants = () => {\r\n    RestaurantDataService.getAll()\r\n      .then((response) => {\r\n        console.log(response.data)\r\n        setRestaurants(response.data.restaurants)\r\n      })\r\n      .catch((e) => {\r\n        console.log(e)\r\n      })\r\n  }\r\n\r\n  const retrieveCuisines = () => {\r\n    RestaurantDataService.getCuisines()\r\n      .then((response) => {\r\n        console.log(response.data)\r\n        setCuisines(['All Cuisines'].concat(response.data))\r\n      })\r\n      .catch((e) => {\r\n        console.log(e)\r\n      })\r\n  }\r\n\r\n  const refreshList = () => {\r\n    retrieveRestaurants()\r\n  }\r\n\r\n  const find = (query, by) => {\r\n    RestaurantDataService.find(query, by)\r\n      .then((response) => {\r\n        console.log(response.data)\r\n        setRestaurants(response.data.restaurants)\r\n      })\r\n      .catch((e) => {\r\n        console.log(e)\r\n      })\r\n  }\r\n\r\n  const findByName = () => {\r\n    find(searchName, 'name')\r\n  }\r\n\r\n  const findByZip = () => {\r\n    find(searchZip, 'zipcode')\r\n  }\r\n\r\n  const findByCuisine = () => {\r\n    if (searchCuisine == 'All Cuisines') {\r\n      refreshList()\r\n    } else {\r\n      find(searchCuisine, 'cuisine')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className='row pb-1'>\r\n        <div className='input-group col-lg-4'>\r\n          <input\r\n            type='text'\r\n            className='form-control'\r\n            placeholder='Search by name'\r\n            value={searchName}\r\n            onChange={onChangeSearchName}\r\n          />\r\n          <div className='input-group-append'>\r\n            <button\r\n              className='btn btn-outline-secondary'\r\n              type='button'\r\n              onClick={findByName}\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className='input-group col-lg-4'>\r\n          <input\r\n            type='text'\r\n            className='form-control'\r\n            placeholder='Search by zip'\r\n            value={searchZip}\r\n            onChange={onChangeSearchZip}\r\n          />\r\n          <div className='input-group-append'>\r\n            <button\r\n              className='btn btn-outline-secondary'\r\n              type='button'\r\n              onClick={findByZip}\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className='input-group col-lg-4'>\r\n          <select onChange={onChangeSearchCuisine}>\r\n            {cuisines.map((cuisine) => {\r\n              return <option value={cuisine}> {cuisine.substr(0, 20)} </option>\r\n            })}\r\n          </select>\r\n          <div className='input-group-append'>\r\n            <button\r\n              className='btn btn-outline-secondary'\r\n              type='button'\r\n              onClick={findByCuisine}\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='row'>\r\n        {restaurants.map((restaurant) => {\r\n          const address = `${restaurant.address.building} ${restaurant.address.street}, ${restaurant.address.zipcode}`\r\n          return (\r\n            <div className='col-lg-4 pb-1'>\r\n              <div className='card'>\r\n                <div className='card-body'>\r\n                  <h5 className='card-title'>{restaurant.name}</h5>\r\n                  <p className='card-text'>\r\n                    <strong>Cuisine: </strong>\r\n                    {restaurant.cuisine}\r\n                    <br />\r\n                    <strong>Address: </strong>\r\n                    {address}\r\n                  </p>\r\n                  <div className='row'>\r\n                    <Link\r\n                      to={'/restaurants/' + restaurant._id}\r\n                      className='btn btn-primary col-lg-5 mx-1 mb-1'\r\n                    >\r\n                      View Reviews\r\n                    </Link>\r\n                    <a\r\n                      target='_blank'\r\n                      href={'https://www.google.com/maps/place/' + address}\r\n                      className='btn btn-primary col-lg-5 mx-1 mb-1'\r\n                    >\r\n                      View Map\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RestaurantsList\r\n","import React, { useState } from 'react'\r\n\r\nconst Login = (props) => {\r\n  const initialUserState = {\r\n    name: '',\r\n    id: '',\r\n  }\r\n\r\n  const [user, setUser] = useState(initialUserState)\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target\r\n    setUser({ ...user, [name]: value })\r\n  }\r\n\r\n  const login = () => {\r\n    props.login(user)\r\n    props.history.push('/')\r\n  }\r\n\r\n  return (\r\n    <div className='submit-form'>\r\n      <div>\r\n        <div className='form-group'>\r\n          <label htmlFor='user'>Username</label>\r\n          <input\r\n            type='text'\r\n            className='form-control'\r\n            id='name'\r\n            required\r\n            value={user.name}\r\n            onChange={handleInputChange}\r\n            name='name'\r\n          />\r\n        </div>\r\n\r\n        <div className='form-group'>\r\n          <label htmlFor='id'>ID</label>\r\n          <input\r\n            type='text'\r\n            className='form-control'\r\n            id='id'\r\n            required\r\n            value={user.id}\r\n            onChange={handleInputChange}\r\n            name='id'\r\n          />\r\n        </div>\r\n\r\n        <button onClick={login} className='btn btn-success'>\r\n          Login\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\nimport { Switch, Route, Link } from 'react-router-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nimport AddReview from './components/add-review'\nimport Restaurant from './components/restaurants'\nimport RestaurantsList from './components/restaurants-list'\nimport Login from './components/login'\n\nfunction App() {\n  const [user, setUser] = React.useState(null)\n\n  async function login(user = null) {\n    setUser(user)\n  }\n\n  async function logout() {\n    setUser(null)\n  }\n\n  return (\n    <div>\n      <nav className='navbar navbar-expand navbar-dark bg-dark'>\n        <a href='/restaurants' className='navbar-brand'>\n          Restaurant Reviews\n        </a>\n        <div className='navbar-nav mr-auto'>\n          <li className='nav-item'>\n            <Link to={'/restaurants'} className='nav-link'>\n              Restaurants\n            </Link>\n          </li>\n          <li className='nav-item'>\n            {user ? (\n              <a\n                onClick={logout}\n                className='nav-link'\n                style={{ cursor: 'pointer' }}\n              >\n                Logout {user.name}\n              </a>\n            ) : (\n              <Link to={'/login'} className='nav-link'>\n                Login\n              </Link>\n            )}\n          </li>\n        </div>\n      </nav>\n\n      <div className='container mt-3'>\n        <Switch>\n          <Route\n            exact\n            path={['/', '/restaurants']}\n            component={RestaurantsList}\n          />\n          <Route\n            path='/restaurants/:id/review'\n            render={(props) => <AddReview {...props} user={user} />}\n          />\n          <Route\n            path='/restaurants/:id'\n            render={(props) => <Restaurant {...props} user={user} />}\n          />\n          <Route\n            path='/login'\n            render={(props) => <Login {...props} login={login} />}\n          />\n        </Switch>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}